#!/bin/bash

command -v yt-dlp >/dev/null 2>&1 || { echo "yt-dlp não encontrado"; exit 1; }
# command -v aria2c >/dev/null 2>&1 || { echo "aria2c não encontrado"; exit 1; }

output_path="~/Videos/youtube/"

if [ $# -eq 0 ]; then
  echo "Uso: download-yt URL [URL...]"
  exit 1
fi

yt-dlp -f "bv*+ba/b" \
  --merge-output-format mp4 \
  --external-downloader-args "-x 16 -k 1M" \
  --retries 10 \
  --fragment-retries 10 \
  --paths $output_path \
  --no-part \
  --check-formats \
  --no-mtime \
  "$@"
